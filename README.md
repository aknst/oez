# Диагностический ассистент | Risk 

https://github.com/user-attachments/assets/41a106b5-c7ea-408f-9e66-40f6d1612a91

## Описание

Наша команда занималась разработкой системы, которая может прогнозировать диагнозы на основе жалоб пациентов и их анамнезов, а также выдавать рекомендации по лечению. Данная система призвана облегчить работу врачей, ускорить процесс диагностики и в целом улучшить качество медицинского обслуживания.

Для прогнозирования диагнозов доступно две модели, обученные на разных датасетах: Bert - модель, позволяющая в момент получить отличные результаты; Ансамбль - модель, для более хорошего обучения которого необходимо накопление данных и дообучение модели на них: идейно она работает как ансамбль двух различных моделей Bert и слой CNN на выходе.


## Использование

Для развертывания сайта используется Docker.

### Краткая инструкция для запуска

1. Выполнить `git clone https://github.com/aknst/oez`
2. Выполнить `cd oez`
3. Скачать модели: https://drive.google.com/file/d/1yr93jncj7s1gezVJeZLtFW10eIipO10F/view?usp=sharing
4. Распаковать архив, содержимое папки models скопировать и вставить в `./backend/app/ai`. Итоговое содержимое папки `./backend/app/ai`:
```
oez\backend\app\ai> dir
albert-base-v2
bert
ensemble
RuBioRoBERTa
bert.py
ensemble.py
gpt.csv
mkb.csv
```
5. Выполнить `docker compose up -d`

### Доступ к сайту

- **Frontend:** [http://localhost:5173/](http://localhost:5173/)
- **Backend:** [http://localhost:8000/docs](http://localhost:8000/docs)

### Данные для авторизации на сайте

- **Логин:** `admin@example.com`
- **Пароль:** `changethis`

## Функциональные возможности
1)  Естественно, при начале работы с сайтом необходимо сделать аккаунт: в нашем случае это аккаунт врача. При регистрации пользователя ему на почту приходит письмо с логином и паролем 
2) Сайт имеет следующие основные кнопки для взаимодействия: 
    - новый прием: 
Выбор пациента, кнопка о повторном приеме, ввод жалоб, анамнеза заболевания и объективного статуса пациента. По кнопке получить рекомендации внизу страницы NLP модель выдает диагноз и автоматически подгружается рекомендации. Врач также может самостоятельно вписать диагноз и рекомендации. Помимо этого также доступен потенциальный выбор модели: Bert или Ансамбль. Bert состоит из дообученной модели RuBioRoBERTa; в ансамбле к ней добавляется Albert и их суммарный выход идет на CNN слой. Из-за разношерстности данных на которых учили и которые могут реально поступать, рекомендуется в начале использовать модель Bert (однако, ансамбль в теории лучше, однако необходимы данные для обучения)

    - история приемов:
Полный список всех пациентов с данными о жалобах, анамнезе, статусе, диагнозе и т.д., необходимые для дальнейшего обучения модели

    - пациенты:
Список всех пациентов: ФИО, дата рождения с возрастом, гендер.

    - пользователи: 
Добавление пользователей (врачей)


## Стек технологий: 
 
В нашем проекте использовались следующие технологии и инструменты:  
- Языки программирования: Python, TypeScript, JavaScript, HTML, CSS, Shell
- Backend: FastAPI
- Frontend: React + TypeScript, HTML, Tailwind CSS
- База данных: PostgreSQL
- ML - часть: numpy, pandas, torch, transformers (Roberta, Albert, RuBioRoBERTa, bert base), joblib, sklearn
- Инструменты развертывания: Docker


## Команда

Список участников команды: 
- Юрий Ч. : капитан команды, ответственный за всю ML часть
- Константин А. : ответственный за сайт: бэк + фронт
- Самандар У. : работа с бд, подготовка текста и презентации к защите
- Константин О. : помощь по бэкэнд части проекта 
- Роман М. : работа и подготовка датасетов, в том числе генерация для рекомендаций 

  
